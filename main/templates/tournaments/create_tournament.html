{% extends "base.html" %}

{% block content %}
<h1>Créer une compétition</h1>

<form method="POST" action="{{ url_for('tournaments.create_tournament') }}">
    <p>
        <label for="name">Nom de la compétition :</label>
        <input type="text" name="name" id="name" required>
    </p>
    <p>
        <label for="date">Date de début de la compétition:</label>
        <input type="date" name="date" id="date" required>
    </p>
    <p>
        <label for="duration">Durée de la compétition :</label>
        <input type="number" name="duration" id="duration" required min = "1" max = "365">
        <span>jours</span>
    </p>
    <p>
        <label for="category">Catégorie :</label>
        <select name="category" id="category" required>
            <option value="" disabled selected>Sélectionnez une catégorie</option>
            <option value="step_data">Nombre de pas</option>
            <option value="distance_data">Distance parcourue</option>
            <option value="calories_data">Calories brûlées</option>
            <option value="floors_data">Étages montés</option>
            <option value="sleep_duration_data">Durée du sommeil</option>
        </select>
    </p>
    <p>
        <input type="submit" value="Créer">
    </p>
</form>

<script>
    // Script pour définir la date d'aujourd'hui comme valeur par défaut
    document.addEventListener('DOMContentLoaded', (event) => {
        const today = new Date().toISOString().split('T')[0];
        const dateInput = document.getElementById('date');
        dateInput.value = today;
        dateInput.min = today;
    });
</script>
{% endblock %}