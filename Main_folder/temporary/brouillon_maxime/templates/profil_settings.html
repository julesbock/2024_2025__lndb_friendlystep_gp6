<h2>Modifier mon profil</h2>

<form method="POST" action="/update-profile">
  <!-- Prénom -->
  <p>
    <label for="first_name">Prénom:</label>
    <input type="text" name="first_name" id="first_name" value="{{ user['first_name'] }}" oninput="afficherModification()">
  </p>

  <!-- Nom -->
  <p>
    <label for="last_name">Nom:</label>
    <input type="text" name="last_name" id="last_name" value="{{ user['last_name'] }}" oninput="afficherModification()">
  </p>

  <!-- Nom d'utilisateur -->
  <p>
    <label for="username">Nom d'utilisateur:</label>
    <input type="text" name="username" id="username" value="{{ user['username'] }}" oninput="afficherModification()">
  </p>

  <!-- Email -->
  <p>
    <label for="email">Email:</label>
    <input type="email" name="email" id="email" value="{{ user['email'] }}" oninput="afficherModification()">
  </p>

  <!-- Date de naissance -->
  <p>
    <label for="birth_day">Jour de naissance:</label>
    <select name="birth_day" id="birth_day">
      <option value="{{ user['birth_day'] }}">{{ user['birth_day'] }}</option>
      {% for i in range(1, 32) %}
        <option value="{{ i }}">{{ i }}</option>
      {% endfor %}
    </select>

    <label for="birth_month">Mois de naissance:</label>
    <select name="birth_month" id="birth_month">
      <option value="{{ user['birth_month'] }}">{{ user['birth_month'] }}</option>
      <option value="1">Janvier</option>
      <option value="2">Février</option>
      <option value="3">Mars</option>
      <option value="4">Avril</option>
      <option value="5">Mai</option>
      <option value="6">Juin</option>
      <option value="7">Juillet</option>
      <option value="8">Août</option>
      <option value="9">Septembre</option>
      <option value="10">Octobre</option>
      <option value="11">Novembre</option>
      <option value="12">Décembre</option>
    </select>

    <label for="birth_year">Année de naissance:</label>
    <select name="birth_year" id="birth_year">
      <option value="{{ user['birth_year'] }}">{{ user['birth_year'] }}</option>
      <script>
        const currentYear = new Date().getFullYear();
        for (let i = currentYear; i >= 1900; i--) {
          document.write(`<option value="${i}">${i}</option>`);
        }
      </script>
    </select>
  </p>

  <!-- Sexe -->
  <p>
    <label>Sexe:</label>
    <input type="radio" name="gender_choice" value="H" {% if user['gender'] == 'H' %}checked{% endif %}> Homme
    <input type="radio" name="gender_choice" value="F" {% if user['gender'] == 'F' %}checked{% endif %}> Femme
    <input type="radio" name="gender_choice" value="C" {% if user['gender'] == 'C' %}checked{% endif %}> Croissant
    <input type="radio" name="gender_choice" value="A" {% if user['gender'] == 'A' %}checked{% endif %}> Autre
  </p>

  <!-- Nationalité -->
  <p>
    <label for="nationality">Nationalité:</label>
    <select name="nationality" id="nationality">
      <option value="{{ user['nationality'] }}">{{ user['nationality'] }}</option>
      <option value="france">Française</option>
      <option value="algerie">Algérienne</option>
      <!-- Ajouter d'autres options ici -->
    </select>
  </p>

  <!-- Taille -->
  <p>
    <label for="height">Taille (en cm):</label>
    <input type="number" name="height" id="height" value="{{ user['height'] }}">
  </p>

  <!-- Poids -->
  <p>
    <label for="weight">Poids (en kg):</label>
    <input type="number" name="weight" id="weight" value="{{ user['weight'] }}">
  </p>

  <p>
    <input type="submit" value="Enregistrer les modifications">
  </p>
</form>

<script>
function afficherModification() {
  // Cette fonction peut être utilisée pour afficher en temps réel les modifications dans un autre endroit de la page
}
</script>

{% endblock %}